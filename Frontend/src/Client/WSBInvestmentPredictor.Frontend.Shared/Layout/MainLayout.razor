@namespace WSBInvestmentPredictor.Frontend.Shared.Layout
@inherits LayoutComponentBase
@using Microsoft.Extensions.Localization
@using WSBInvestmentPredictor.Frontend.Shared
@using WSBInvestmentPredictor.Frontend.Shared.Shared
@inject IStringLocalizer<SharedResource> Loc 

@code {
    private bool sidebarVisible = true;
    private string SidebarStyle => sidebarVisible ? "width: 220px; transition: width 0.2s;" : "width: 0; overflow: hidden; transition: width 0.2s; padding: 0; border: none;";
    private string MainContentStyle => sidebarVisible ? "margin-left: 0; transition: margin 0.2s;" : "margin-left: 0; transition: margin 0.2s;";
}

<RadzenNotification />
<div class="d-flex flex-column vh-100">
    <!-- Navbar -->
    <header class="navbar navbar-expand bg-primary navbar-dark px-3">
        <button class="btn btn-sm btn-outline-light me-2" @onclick="() => sidebarVisible = !sidebarVisible" title="@Loc["ToggleMenu"]">
            <span class="navbar-toggler-icon"></span>
        </button>
        <span class="navbar-brand">📊 WSB Investment Predictor</span>
        <div class="ms-auto d-flex align-items-center">
            <LanguageSelector />
        </div>
    </header>

    <!-- Content -->
    <div class="d-flex flex-grow-1">
        <!-- Sidebar -->
        <aside class="bg-light p-3 border-end" style="@SidebarStyle">
            @if (sidebarVisible)
            {
                <NavMenu />
            }
        </aside>

        <!-- Main page content -->
        <main class="p-4 flex-grow-1 overflow-auto" style="@MainContentStyle">
            @Body
        </main>
    </div>
</div>

